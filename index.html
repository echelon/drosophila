<!DOCTYPE html>
<html>
	<head>
		<title>Open Source FlyLab Clone</title>
		<script type="text/javascript" src="./lib/jquery.js"></script>
		<script type="text/javascript" src="./lib/jquery-ui.js"></script>
		<script type="text/javascript" src="./lib/jquery.tmpl.js"></script>
		<script type="text/javascript" src="./model/allele.js"></script>
		<script type="text/javascript" src="./model/trait.js"></script>
		<script type="text/javascript" src="./model/generation.js"></script>
		<script type="text/javascript" src="./model/history.js"></script>
		<script type="text/javascript" src="./model/registry.js"></script>
		<script type="text/javascript" src="./model/misc.js"></script>
		<script type="text/javascript" src="./model/defs.js"></script>
		<script type="text/javascript" src="./model/genotype.js"></script>
		<script type="text/javascript" src="./model/phenotype.js"></script>
		<script type="text/javascript" src="./controller/domreg.js"></script>
		<script type="text/javascript" src="./controller/form.js"></script>
		<script type="text/javascript" src="./controller/dialog.js"></script>
		<script type="text/javascript" src="./controller/overview.js"></script>
		<link type="text/css" rel="stylesheet" href="./lib/css/smoothness/jquery-ui.css" />
		<link type="text/css" rel="stylesheet" href="./style.css" />
		<script type="text/javascript">

			function test() {
				DomReg();

				// XXX: Work with pregenerated data
				var male = new Genotype();
				
				male.setSex('m');
				male.setHomozygousFor('E');
				Reg.getHistory().curGeneration.father = male;

				var female = new Genotype();
				female.setSex('f');
				Reg.getHistory().curGeneration.mother = female;

				Reg.getHistory().curGeneration = male.recombine(female);
				Reg.getHistory().startNextGeneration();

				<!-- Second gen -->

				var male2 = new Genotype();
				male2.setSex('m');
				//male2.setHomozygousFor('SV');
				//male2.setHomozygousFor('D');
				//male2.setHomozygousFor('SN');
				Reg.getHistory().curGeneration.father = male2;

				var female2 = new Genotype();
				female2.setSex('f');
				female2.setHomozygousFor('Y');
				Reg.getHistory().curGeneration.mother = female2;

				Reg.getHistory().curGeneration = male2.recombine(female2);
				Reg.getHistory().startNextGeneration();
				//*/

			};

			$(document).ready(function() { test(); });

		</script>
	</head>
	<body>
		<div id="container">
			<div id="logo">
				<h1>Open Source FlyLab Clone</h1>
				<hr />
			</div>
			<!-- Main: This is where the active GUI elements will show up. -->
			<div id="main"></div>
			<div id="todo">
				<p><strong>TODO List:</strong> Notes concerning code progress.</p>
				<ul>
					<li><strong>Images</strong> &mdash; procedurally generate images of each phenotype. 
					Requires artwork.</li>
					<li><strong>Tooling</strong> &mdash; Python compressor: flatten/merge all templates, 
					etc. into one static HTML file. Will need a new/supplemented controller to support this. 
					Also needs to batch minify all of the javascripts into one file.</li>
					<li><strong>Model</strong> &mdash; Parentals have 'history' recording the source they 
					came from, eg. generation number or null</li>
				</ul>	
			</div>
		</div>
	</body>
</html>
